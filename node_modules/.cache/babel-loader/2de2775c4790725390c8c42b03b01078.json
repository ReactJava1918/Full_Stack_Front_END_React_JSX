{"ast":null,"code":"var _jsxFileName = \"D:\\\\Josh\\\\fullstack-frontend-master\\\\src\\\\api\\\\withAuth.js\";\nimport React, { useEffect } from \"react\";\nimport { getAuthToken } from \"./apiRequest\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withAuth = WrappedComponent => {\n  var _s = $RefreshSig$();\n\n  return _s(props => {\n    _s();\n\n    useEffect(() => {\n      const token = getAuthToken();\n      console.log(\"---------------------------------------\" + token);\n\n      if (!token) {\n        // If token does not exist, redirect to login page\n        // You need to return a <Navigate> component here\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 16\n        }, this);\n      }\n    }, []); // Return the wrapped component\n\n    return /*#__PURE__*/_jsxDEV(WrappedComponent, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n};\n\nexport default withAuth;","map":{"version":3,"names":["React","useEffect","getAuthToken","Navigate","withAuth","WrappedComponent","props","token","console","log"],"sources":["D:/Josh/fullstack-frontend-master/src/api/withAuth.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { getAuthToken } from \"./apiRequest\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst withAuth = (WrappedComponent) => {\r\n  return (props) => {\r\n    useEffect(() => {\r\n      const token = getAuthToken();\r\n      console.log(\"---------------------------------------\"+token);\r\n      if (!token) {\r\n        // If token does not exist, redirect to login page\r\n        // You need to return a <Navigate> component here\r\n        return <Navigate to=\"/login\" />;\r\n      }\r\n    }, []);\r\n\r\n    // Return the wrapped component\r\n    return <WrappedComponent {...props} />;\r\n  };\r\n};\r\n\r\nexport default withAuth;\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAEA,MAAMC,QAAQ,GAAIC,gBAAD,IAAsB;EAAA;;EACrC,UAAQC,KAAD,IAAW;IAAA;;IAChBL,SAAS,CAAC,MAAM;MACd,MAAMM,KAAK,GAAGL,YAAY,EAA1B;MACAM,OAAO,CAACC,GAAR,CAAY,4CAA0CF,KAAtD;;MACA,IAAI,CAACA,KAAL,EAAY;QACV;QACA;QACA,oBAAO,QAAC,QAAD;UAAU,EAAE,EAAC;QAAb;UAAA;UAAA;UAAA;QAAA,QAAP;MACD;IACF,CARQ,EAQN,EARM,CAAT,CADgB,CAWhB;;IACA,oBAAO,QAAC,gBAAD,OAAsBD;IAAtB;MAAA;MAAA;MAAA;IAAA,QAAP;EACD,CAbD;AAcD,CAfD;;AAiBA,eAAeF,QAAf"},"metadata":{},"sourceType":"module"}